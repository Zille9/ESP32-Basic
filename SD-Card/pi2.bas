10 CLS

20 PRINT"Calculating Pi as Basic Benchmark."

150 INPUT"Enter number of digits";N

170 IF N<1 THEN PRINT"Nothing done.":END

200 L=INT(10*N/3)+16

210 ND=1

220 SM=TIMER

240 DIM A(L)

250 NB=0

260 PD=0

280 FOR J=1 TO L

290 A(J)=2

300 NEXT J

320 FOR J=1 TO N

330 Q=0

340 FOR I=L TO 1 STEP -1

350 X=10*A(I)+Q*I

360 A(I)=X%(2*I-1)

370 Q=INT(X/(2*I-1))

380 NEXT I

390 A(1)=Q%10

400 Q=INT(Q/10)

410 IF Q=9 THEN NB=NB+1:GOTO 610

420 IF Q<>10 THEN GOTO 540

440 D=PD+1:GOSUB 670

450 IF NB<=0 THEN GOTO 500

460 FOR K=1 TO NB

470 D=0:GOSUB 670

480 NEXT K

500 PD=0

510 NB=0

520 GOTO 610

540 D=PD:GOSUB 670

550 PD=Q

560 IF NB=0 THEN GOTO 610

570 FOR K=1 TO NB

580 D=9:GOSUB 670

590 NEXT K

600 NB=0

610 NEXT J

620 PRINT PD;

630 EM=TIMER-SM

632 PRINT

635 PRINT"Calculation time ";EM/1000;" sek."

638 PRINT

640 END

670 IF ND=0 THEN PRINT D;

675 IF ND=0 THEN RETURN

680 IF D=0 THEN RETURN

690 PRINT D;".";

700 ND=0

710 RETURN

